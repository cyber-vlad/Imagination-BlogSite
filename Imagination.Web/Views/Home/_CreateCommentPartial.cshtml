@model Imagination.Application.DTOs.CreateCommentDto;

<form id="createCommentForm" asp-controller="Post" asp-action="CreateComment" method="POST" autocomplete="off">
    <div class="d-flex align-items-center mt-2">
        <input type="hidden" name="PostId" value="@Model.PostId">
        <input type="hidden" name="UserId" value="@currentUserService.UserId">
        <input type="text" id="commentContent" name="Content" class="form-control border-0 form-control-sm me-2" style="max-height: 20px;" placeholder="Add comment">
        <button type="submit" class="btn btn-primary btn-sm">Send</button>
        <span asp-validation-for="Content" class="text-danger"></span>
    </div>
</form>

<script type="text/javascript">
    $(document).on('submit', '#createCommentForm', function (e) {
    e.preventDefault();

        $.ajax({
        url: $(this).attr('action'),
        type: 'POST',
        data: $(this).serialize(),
        success: function (response) {
            if (response.success) {
                $('#commentContent').val('');
                
            }
        }
        });
    });
</script>
